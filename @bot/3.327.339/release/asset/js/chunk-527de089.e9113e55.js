(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-527de089"],{"1c3d":function(e,t,a){"use strict";a.r(t);var n=a("7a23");const o={class:"info"};function i(e,t,a,i,s,l){const c=Object(n["resolveComponent"])("van-field"),r=Object(n["resolveComponent"])("van-cell"),u=Object(n["resolveComponent"])("van-button"),d=Object(n["resolveComponent"])("BaseLayout");return Object(n["openBlock"])(),Object(n["createBlock"])(d,{title:"我的资料"},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",o,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(s.state,(e,t)=>(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:t,label:e.name,modelValue:s.state[t].value,"onUpdate:modelValue":e=>s.state[t].value=e,clickable:"","input-align":"right","right-icon":s.state[t].icon,onClickInput:e=>s.state[t].icon="edit",onBlur:e=>l.change(t)},null,8,["label","modelValue","onUpdate:modelValue","right-icon","onClickInput","onBlur"]))),128)),Object(n["createVNode"])(r,{title:"最近登录时间",value:e.profile.login_dt},null,8,["value"]),Object(n["createVNode"])(r,{title:"最近登录地址",border:!1,value:e.profile.login_ip},null,8,["value"]),Object(n["createVNode"])(u,{block:"",class:"logout",type:"primary",to:"/logout"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])("退出登录")]),_:1})])]),_:1})}var s=a("5502"),l=a("2824"),c={components:{BaseLayout:l["a"]},data(){const e=Object(n["reactive"])({mobile:{name:"手机号",icon:"arrow",value:""},username:{name:"用户名",icon:"arrow",value:""},password:{name:"密码",icon:"arrow",value:""},nickname:{name:"昵称",icon:"arrow",value:""}});return{state:e}},created(){this.$init(this.reset)},computed:{...Object(s["d"])(["profile"]),...Object(s["b"])(["authorized","uid","mobile","nickname"])},methods:{reset(){this.state.mobile.value=this.mobile,this.state.username.value=this.profile.username,this.state.nickname.value=this.nickname,this.state.password.value="******"},change(e){if(this.state[e].icon="arrow","mobile"==e&&this.state.mobile.value==this.mobile)return;if("username"==e&&this.state.username.value==this.profile.username)return;if("nickname"==e&&this.state.nickname.value==this.nickname)return;if("password"==e&&"******"==this.state.password.value)return;let t="/user/change",a={what:e,value:this.state[e].value};/(mobile|username|password)/.test(e)||(t="/user/modify",a[e]=this.state[e].value),this.$http.post(t,a).then(()=>{this.$init(this.reset)}).catch(()=>{this.reset(),this.state[e].icon="edit"})}}},r=(a("f917"),a("6b0d")),u=a.n(r);const d=u()(c,[["render",i],["__scopeId","data-v-8c5fcdea"]]);t["default"]=d},5287:function(e,t,a){},f917:function(e,t,a){"use strict";a("5287")}}]);
//# sourceMappingURL=chunk-527de089.e9113e55.js.map
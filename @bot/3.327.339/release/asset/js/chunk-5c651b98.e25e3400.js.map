{"version":3,"sources":["webpack:///./src/views/MyExchangeStrategy.vue?d1d4","webpack:///./src/views/MyExchangeStrategy.vue","webpack:///./src/views/MyExchangeStrategy.vue?2576"],"names":["class","_createBlock","_component_BaseLayout","title","$options","extra","_withCtx","_createVNode","_component_van_button","icon","size","style","borderRadius","color","onClick","onCreate","display","_component_van_popup","show","$setup","state","showPicker","$event","round","position","_component_van_picker","columns","list","columns-field-names","text","onCancel","_cache","onConfirm","_component_van_form","onSubmit","_component_van_cell","_normalizeClass","length","border","name","label","is-link","_createElementVNode","_hoisted_1","_component_van_field","strategy","placeholder","rules","required","message","symbol","clearable","readonly","$props","action","formatter","amount","type","min","right-icon","input","_component_van_stepper","rise_limit","step","max","rise_offset","fall_limit","fall_offset","fall_count","_component_van_radio_group","fall_series","_component_van_radio","stop_limit","stop_action","_component_van_sticky","offset-bottom","block","native-type","components","BaseLayout","props","String","default","id","Number","setup","reactive","symbols","sid","created","this","$http","get","then","data","post","$toast","$router","push","mounted","change","computed","obj","create","modify","adjust","apply","mapGetters","methods","multiple","parseInt","value","toUpperCase","replace","join","indexOf","substring","$copy","url","params","uid","__exports__","render"],"mappings":"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","file":"asset/js/chunk-5c651b98.e25e3400.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./MyExchangeStrategy.vue?vue&type=style&index=0&id=486e6d3a&scoped=true&lang=css\"","<template>\n  <BaseLayout :title=\"title\">\n\n    <template #extra>\n      <van-button v-show=\"display('create')\" icon=\"plus\" size=\"small\" :style=\"{borderRadius:'10px 0 0 10px'}\" color=\"#09F\" @click=\"onCreate\">新增模板</van-button>\n    </template>\n    \n    <van-popup v-model:show=\"state.showPicker\" round position=\"bottom\">\n      <van-picker title=\"选择策略模板\" :columns=\"state.list\" :columns-field-names=\"{text:'name'}\" @cancel=\"state.showPicker = false\" @confirm=\"onConfirm\" />\n    </van-popup>\n\n    <van-form class=\"form\" @submit=\"onSubmit\">\n\n      <van-cell class=\"strategy\" :class=\"state.list.length > 0 ? 'animate__animated animate__repeat-2 animate__flash' : ''\" :border=\"false\" :title=\"name\" :label=\"'共有 ' + state.list.length + ' 个策略模板'\" is-link @click=\"state.showPicker = true\" v-show=\"display('choose')\" />\n      \n      <div class=\"fields\">\n\n        <van-field v-model=\"state.strategy.name\"   name=\"name\"   label=\"策略名称\" placeholder=\"策略模板的标题\" v-show=\"display('name')\" :rules=\"[{ required: display('name'), message: '必填项' }]\"/>\n        <van-field v-model=\"state.strategy.symbol\" name=\"symbol\" label=\"交易对\"   placeholder=\"只支持USDT交易对\" clearable v-show=\"display('symbol')\" :rules=\"[{ required: display('symbol'), message: '必填项' }]\" :readonly=\"action == 'adjust'\" :formatter=\"formatter\" />\n        <van-field v-model=\"state.strategy.amount\" name=\"amount\" label=\"建仓金额\" placeholder=\"最少 10 USDT\" v-show=\"display('amount')\" :rules=\"[{ required: display('amount'), message: '必填项' }]\"  type=\"number\" min=\"10\" right-icon=\"warning-o\" />\n        <van-field name=\"rise_limit\" label=\"止盈率\" right-icon=\"warning-o\">\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.strategy.rise_limit\" step=\"0.1\" min=\"0.1\" max=\"100\" />%</template>\n        </van-field>\n        <van-field name=\"rise_offset\" label=\"止盈回调比例\" right-icon=\"warning-o\">\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.strategy.rise_offset\" step=\"0.1\" min=\"0\" max=\"100\"/>%</template>\n        </van-field>\n        <van-field name=\"fall_limit\" label=\"补仓下跌率\" right-icon=\"warning-o\" >\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.strategy.fall_limit\" step=\"0.1\" min=\"0.1\" max=\"100\"/>%</template>\n        </van-field>\n        <van-field name=\"fall_offset\" label=\"补仓回调比例\" right-icon=\"warning-o\" >\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.strategy.fall_offset\" step=\"0.1\" min=\"0\" max=\"100\" />%</template>\n        </van-field>\n        <van-field name=\"fall_count\" label=\"补仓次数\" right-icon=\"warning-o\">\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.strategy.fall_count\" step=\"1\" min=\"0\" max=\"10\" />次</template>\n        </van-field>\n        <van-field name=\"fall_series\" label=\"补仓金额\" right-icon=\"warning-o\">\n          <template #input>\n            <van-radio-group v-model=\"state.strategy.fall_series\">\n              <van-radio class=\"radio\" :name=\"0\">不补仓</van-radio>\n              <van-radio class=\"radio\" :name=\"1\">单倍建仓金额</van-radio>\n              <van-radio class=\"radio\" :name=\"2\">单倍递增：2、3、4、5...</van-radio>\n              <van-radio class=\"radio\" :name=\"3\">双倍递增：2、4、6、8...</van-radio>\n              <van-radio class=\"radio\" :name=\"4\">乘方递增：2、4、8、16...</van-radio>\n            </van-radio-group>\n          </template>\n        </van-field>\n        <van-field name=\"stop_limit\" label=\"下跌止损比例\" right-icon=\"warning-o\">\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.strategy.stop_limit\" step=\"0.1\" min=\"0.1\" max=\"100\" />%</template>\n        </van-field>\n        <van-field name=\"stop_action\" label=\"止损动作\" right-icon=\"warning-o\">\n          <template #input>\n            <van-radio-group v-model=\"state.strategy.stop_action\">\n              <van-radio class=\"radio\" :name=\"0\">挂起不再补仓</van-radio>\n              <van-radio class=\"radio\" :name=\"1\">清仓</van-radio>\n            </van-radio-group>\n          </template>\n        </van-field>\n      \n      </div>\n\n      <van-sticky class=\"submit\" :offset-bottom=\"0\" position=\"bottom\">\n        <van-button block type=\"primary\" native-type=\"submit\">{{title}}</van-button>\n      </van-sticky>\n      \n    </van-form>\n\n  </BaseLayout>\n</template>\n\n<style scoped>\n.form {\n  margin: 10px;\n  border-radius: 5px;\n}\n.strategy {\n  background: #F6F6F6;\n  border-radius: 5px;\n  border: solid 1px #DDD;\n  color: #000;\n}\n.fields {\n  margin: 10px 0;\n  border-radius: 5px;\n  border: solid 1px #DDD;\n  overflow: hidden;\n}\n.stepper {\n  margin-right: 10px;\n}\n.radio {\n  height: 32px;\n  font-size: 12px;\n}\n.submit {\n  margin-top: 10px;\n}\n</style>\n\n<script>\nimport {reactive} from 'vue'\nimport {mapGetters} from 'vuex'\nimport BaseLayout from '@/components/BaseLayout.vue'\n\nexport default {\n  components: {BaseLayout},\n\n  props: {\n    action: {\n      type: String,\n      default: \"create\",\n    },\n    id: {\n      type: Number,\n      default: 0,\n    },\n  },\n\n  setup(){\n    const state = reactive({\n      showPicker: false,\n      symbols: [],\n      list: [],     // 所有策略\n      strategy: {}, // 当前策略\n      default: {    // 默认策略\n        rise_limit: 3,\n        rise_offset: 0.3,\n        fall_limit: 4,\n        fall_offset: 0.4,\n        fall_count: 5,\n        fall_series: 2,\n        stop_limit: 30,\n        stop_action: 0,\n      }, \n      sid: 0,       // 策略模板ID\n    });\n\n    return {\n      state,\n    };\n  },\n\n  created() {\n    this.state.strategy = this.state.default;\n    this.$http.get(\"/exchange/symbol\").then((data) => this.state.symbols = data);\n    this.$http.post(\"/exchange/strategylist\").then((data) => {\n      if (this.action == \"modify\" && data.length == 0){\n        this.$toast(\"还没有策略模板，请先增加\");\n        return this.$router.push(\"/my/strategy/create\");\n      }\n      this.state.list = data;\n    });\n  },\n\n  mounted(){\n    this.id > 0 && this.$http.post(\"/exchange/taskdetail?id=\" + this.id).then((data) => {\n      this.state.strategy = this.change(data[\"strategy\"], 100);\n    });\n  },\n\n  computed: {\n\n    title() {\n      let obj = {\n        create: \"新增策略模板\",\n        modify: \"修改策略模板\",\n        adjust: \"调整策略 #\" + this.id,\n        apply: \"手动建仓\",\n      }\n      return typeof obj[this.action] != \"undefined\" ? obj[this.action] : obj.create;\n    },\n\n    name(){\n      return this.action == \"modify\" ? \"请先点击选择要修改的策略模板\" : \"可点击选择策略模板，填充到下面表单中\";\n    },\n\n    ...mapGetters([\"uid\"]),\n  },\n\n  methods: {\n\n    display(type){\n      if (type == \"create\"){\n        return this.action == \"modify\" ? true : false;\n      }\n      if (type == \"choose\"){\n        return (this.action == \"modify\" || this.action == \"apply\") ? true : false;\n      }\n      if (type == \"name\"){\n        return (this.action == \"create\" || this.action == \"modify\") ? true : false;\n      }\n      if (type == \"symbol\"){\n        return (this.action == \"adjust\" || this.action == \"apply\") ? true : false;\n      }      \n      if (type == \"amount\"){\n        return (this.action != \"adjust\") ? true : false;\n      }\n      return false;\n    },\n\n    change(obj, multiple) {\n      return {...obj, ...{\n        rise_limit : obj.rise_limit * multiple,\n        rise_offset: obj.rise_offset * multiple,\n        fall_limit : obj.fall_limit * multiple,\n        fall_offset: obj.fall_offset * multiple,\n        fall_series: parseInt(obj.fall_series),\n        stop_limit : obj.stop_limit * multiple,\n        stop_action: parseInt(obj.stop_action)\n      }};\n    },\n\n    formatter(value){\n      let symbol = value.toUpperCase().replace(/[^\\w]/g, '');\n      if (this.state.symbols.join(\"|\").toUpperCase().indexOf(symbol) == -1)\n        return symbol.substring(0, symbol.length-1);\n      return symbol;\n    },\n\n    onCreate(){\n      this.state.strategy = this.state.default;\n      this.$router.push('/my/strategy/create');\n    },\n\n    onConfirm(obj) {\n      this.state.showPicker = false;\n      this.state.sid = obj.id;\n      this.state.strategy = this.change(obj, 100);\n      this.$copy(obj.id, false);\n    },\n\n    onSubmit(obj){\n      let type = \"create,modify\".indexOf(this.action) > -1 ? \"strategy\" : \"task\";\n      let url = \"/exchange/\" + type + \"save\";\n      let params = this.change(obj, 1/100);\n\n      if (this.action == \"modify\"){\n        if (this.state.sid == 0)\n          return this.$toast(\"请先选择要修改的策略模板\");\n        params[\"id\"] = this.state.sid;\n      }\n\n      if (this.action == \"adjust\"){\n        if (this.id == 0)\n          return this.$toast(\"缺少任务ID\");\n        params[\"id\"] = this.id;\n      }\n      \n      type == \"task\" && this.uid == 1 && (params[\"test\"] = 1);\n\n      this.$http.post(url, params).then((data) => {\n        this.$router.push(\"/my/exchange\");\n      });\n    }\n  }\n}\n</script>\n","import { render } from \"./MyExchangeStrategy.vue?vue&type=template&id=486e6d3a&scoped=true\"\nimport script from \"./MyExchangeStrategy.vue?vue&type=script&lang=js\"\nexport * from \"./MyExchangeStrategy.vue?vue&type=script&lang=js\"\n\nimport \"./MyExchangeStrategy.vue?vue&type=style&index=0&id=486e6d3a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/bot/bot/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-486e6d3a\"]])\n\nexport default __exports__"],"sourceRoot":""}
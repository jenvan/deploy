{"version":3,"sources":["webpack:///./src/views/MyProfile.vue","webpack:///./src/views/MyProfile.vue?0cd3","webpack:///./src/views/MyProfile.vue?263b"],"names":["class","_createBlock","_component_BaseLayout","title","_createElementVNode","_hoisted_1","_createElementBlock","_Fragment","_renderList","$data","state","item","key","_component_van_field","label","name","value","$event","clickable","input-align","right-icon","icon","onClickInput","onBlur","$options","change","_createVNode","_component_van_cell","_ctx","profile","login_dt","border","login_ip","_component_van_button","block","type","to","components","BaseLayout","data","reactive","mobile","username","password","nickname","created","this","$init","reset","computed","mapState","mapGetters","methods","field","api","params","what","test","$http","post","then","catch","__exports__","render"],"mappings":"kJAGSA,MAAM,Q,mPAFbC,yBASaC,EAAA,CATDC,MAAM,QAAM,C,6BAEtB,IAKM,CALNC,gCAKM,MALNC,EAKM,E,2BAJJC,gCAAkOC,cAAA,KAAAC,wBAAlMC,EAAAC,MAAK,CAAlBC,EAAKC,K,yBAAxBX,yBAAkOY,EAAA,CAA1LD,IAAKA,EAAME,MAAOH,EAAKI,K,WAAeN,EAAAC,MAAME,GAAKI,M,yBAAXP,EAAAC,MAAME,GAAKI,MAAKC,EAAEC,UAAA,GAAUC,cAAY,QAASC,aAAYX,EAAAC,MAAME,GAAKS,KAAOC,aAAWL,GAAER,EAAAC,MAAME,GAAKS,KAAI,OAAUE,OAAIN,GAAEO,EAAAC,OAAOb,I,kGAChNc,yBAAoDC,EAAA,CAA1CxB,MAAM,SAAUa,MAAOY,EAAAC,QAAQC,U,kBACzCJ,yBAAoEC,EAAA,CAA1DxB,MAAM,SAAU4B,QAAQ,EAAQf,MAAOY,EAAAC,QAAQG,U,kBACzDN,yBAA8EO,EAAA,CAAlEC,MAAA,GAAMlC,MAAM,SAASmC,KAAK,UAAUC,GAAG,W,8BAAU,IAAI,C,6BAAJ,U,4CAuBpD,GACbC,WAAY,CAACC,mBAEbC,OACE,MAAM7B,EAAQ8B,sBAAS,CACrBC,OAAQ,CACN1B,KAAM,MACNM,KAAM,QACNL,MAAO,IAET0B,SAAU,CACR3B,KAAM,MACNM,KAAM,QACNL,MAAO,IAET2B,SAAU,CACR5B,KAAM,KACNM,KAAM,QACNL,MAAO,IAET4B,SAAU,CACR7B,KAAM,KACNM,KAAM,QACNL,MAAO,MAGX,MAAO,CAACN,UAGVmC,UACEC,KAAKC,MAAMD,KAAKE,QAGlBC,SAAU,IACLC,eAAS,CAAC,eACVC,eAAW,CAAC,aAAc,MAAO,SAAU,cAGhDC,QAAS,CACPJ,QACEF,KAAKpC,MAAM+B,OAAOzB,MAAQ8B,KAAKL,OAC/BK,KAAKpC,MAAMgC,SAAS1B,MAAQ8B,KAAKjB,QAAQa,SACzCI,KAAKpC,MAAMkC,SAAS5B,MAAQ8B,KAAKF,SACjCE,KAAKpC,MAAMiC,SAAS3B,MAAQ,UAE9BS,OAAO4B,GAEL,GADAP,KAAKpC,MAAM2C,GAAOhC,KAAO,QACZ,UAATgC,GAAuBP,KAAKpC,MAAM+B,OAAOzB,OAAS8B,KAAKL,OAAQ,OACnE,GAAa,YAATY,GAAuBP,KAAKpC,MAAMgC,SAAS1B,OAAS8B,KAAKjB,QAAQa,SAAU,OAC/E,GAAa,YAATW,GAAuBP,KAAKpC,MAAMkC,SAAS5B,OAAS8B,KAAKF,SAAU,OACvE,GAAa,YAATS,GAAoD,UAA7BP,KAAKpC,MAAMiC,SAAS3B,MAAmB,OAElE,IAAIsC,EAAM,eACNC,EAAS,CAACC,KAAMH,EAAOrC,MAAO8B,KAAKpC,MAAM2C,GAAOrC,OAC/C,6BAA6ByC,KAAKJ,KACrCC,EAAM,eACNC,EAAOF,GAASP,KAAKpC,MAAM2C,GAAOrC,OAEpC8B,KAAKY,MAAMC,KAAKL,EAAKC,GAAQK,KAAK,KAChCd,KAAKC,MAAMD,KAAKE,SACfa,MAAM,KACPf,KAAKE,QACLF,KAAKpC,MAAM2C,GAAOhC,KAAO,Y,iCCrFjC,MAAMyC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,yDCTf","file":"asset/js/chunk-527de089.e9113e55.js","sourcesContent":["<template>\n  <BaseLayout title=\"我的资料\">\n    \n    <div class=\"info\">\n      <van-field v-for=\"(item,key) in state\" :key=\"key\" :label=\"item.name\" v-model=\"state[key].value\" clickable input-align=\"right\" :right-icon=\"state[key].icon\" @click-input=\"state[key].icon='edit'\" @blur=\"change(key)\"></van-field>\n      <van-cell title=\"最近登录时间\" :value=\"profile.login_dt\"/>\n      <van-cell title=\"最近登录地址\" :border=\"false\" :value=\"profile.login_ip\"/>\n      <van-button block class=\"logout\" type=\"primary\" to=\"/logout\">退出登录</van-button>\n    </div>\n\n  </BaseLayout>\n</template>\n\n<style scoped>\n.info {\n  margin: 10px;\n  height: 100px;\n  background: #F3F3F3;\n  border-radius: 5px;\n}\n.logout {\n  margin:20px 0;\n}\n</style>\n\n<script>\nimport {reactive} from 'vue'\nimport {mapState, mapGetters, mapMutations} from 'vuex'\nimport BaseLayout from '@/components/BaseLayout.vue'\n\nexport default {\n  components: {BaseLayout},\n\n  data() {\n    const state = reactive({\n      mobile: {\n        name: \"手机号\",\n        icon: \"arrow\",\n        value: \"\",\n      },\n      username: {\n        name: \"用户名\",\n        icon: \"arrow\",\n        value: \"\",\n      },\n      password: {\n        name: \"密码\",\n        icon: \"arrow\",\n        value: \"\",\n      },\n      nickname: {\n        name: \"昵称\",\n        icon: \"arrow\",\n        value: \"\",\n      },\n    });\n    return {state};\n  },\n\n  created() {\n    this.$init(this.reset);\n  },\n\n  computed: {\n    ...mapState([\"profile\"]),\n    ...mapGetters([\"authorized\", \"uid\", \"mobile\", \"nickname\"]),\n  },\n\n  methods: {\n    reset() {\n      this.state.mobile.value = this.mobile;\n      this.state.username.value = this.profile.username;\n      this.state.nickname.value = this.nickname;\n      this.state.password.value = \"******\";\n    },\n    change(field) {\n      this.state[field].icon = \"arrow\";\n      if (field == \"mobile\"   && this.state.mobile.value == this.mobile) return;\n      if (field == \"username\" && this.state.username.value == this.profile.username) return;\n      if (field == \"nickname\" && this.state.nickname.value == this.nickname) return;\n      if (field == \"password\" && this.state.password.value == \"******\") return;\n\n      let api = \"/user/change\";\n      let params = {what: field, value: this.state[field].value};\n      if (!/(mobile|username|password)/.test(field)){\n        api = \"/user/modify\";\n        params[field] = this.state[field].value;\n      }\n      this.$http.post(api, params).then(() => {\n        this.$init(this.reset);\n      }).catch(() => {\n        this.reset();\n        this.state[field].icon = \"edit\";\n      });\n    },\n  }\n}\n</script>\n","import { render } from \"./MyProfile.vue?vue&type=template&id=8c5fcdea&scoped=true\"\nimport script from \"./MyProfile.vue?vue&type=script&lang=js\"\nexport * from \"./MyProfile.vue?vue&type=script&lang=js\"\n\nimport \"./MyProfile.vue?vue&type=style&index=0&id=8c5fcdea&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/bot/bot/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8c5fcdea\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./MyProfile.vue?vue&type=style&index=0&id=8c5fcdea&scoped=true&lang=css\""],"sourceRoot":""}
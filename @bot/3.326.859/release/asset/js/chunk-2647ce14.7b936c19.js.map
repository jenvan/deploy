{"version":3,"sources":["webpack:///./src/views/MyExchangeStrategy.vue?53d8","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/views/MyExchangeStrategy.vue","webpack:///./src/views/MyExchangeStrategy.vue?8813","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js"],"names":["module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","trim","class","title","extra","icon","size","style","color","onCreate","display","show","state","showPicker","round","position","columns","list","columns-field-names","onConfirm","onSubmit","length","border","name","label","is-link","strategy","placeholder","rules","symbol","clearable","readonly","action","formatter","amount","type","min","right-icon","input","rise_limit","step","max","rise_offset","fall_limit","fall_offset","fall_count","fall_series","stop_limit","stop_action","offset-bottom","block","native-type","components","BaseLayout","props","default","id","Number","setup","symbols","sid","created","this","$http","get","then","data","post","$toast","$router","push","mounted","change","computed","obj","create","modify","adjust","apply","methods","multiple","parseInt","value","toUpperCase","join","indexOf","substring","$copy","url","params","uid","render","__scopeId","isObject","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","prototype","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","undefined","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","index","code","it","charCodeAt","NaN","slice","key","NumberWrapper","arguments","valueOf","keys","split","j"],"mappings":"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","file":"asset/js/chunk-2647ce14.7b936c19.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MyExchangeStrategy.vue?vue&type=style&index=0&id=486e6d3a&scoped=true&lang=css\"","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","<template>\n  <BaseLayout :title=\"title\">\n\n    <template #extra>\n      <van-button v-show=\"display('create')\" icon=\"plus\" size=\"small\" :style=\"{borderRadius:'10px 0 0 10px'}\" color=\"#09F\" @click=\"onCreate\">新增模板</van-button>\n    </template>\n    \n    <van-popup v-model:show=\"state.showPicker\" round position=\"bottom\">\n      <van-picker title=\"选择策略模板\" :columns=\"state.list\" :columns-field-names=\"{text:'name'}\" @cancel=\"state.showPicker = false\" @confirm=\"onConfirm\" />\n    </van-popup>\n\n    <van-form class=\"form\" @submit=\"onSubmit\">\n\n      <van-cell class=\"strategy\" :class=\"state.list.length > 0 ? 'animate__animated animate__repeat-2 animate__flash' : ''\" :border=\"false\" :title=\"name\" :label=\"'共有 ' + state.list.length + ' 个策略模板'\" is-link @click=\"state.showPicker = true\" v-show=\"display('choose')\" />\n      \n      <div class=\"fields\">\n\n        <van-field v-model=\"state.strategy.name\"   name=\"name\"   label=\"策略名称\" placeholder=\"策略模板的标题\" v-show=\"display('name')\" :rules=\"[{ required: display('name'), message: '必填项' }]\"/>\n        <van-field v-model=\"state.strategy.symbol\" name=\"symbol\" label=\"交易对\"   placeholder=\"只支持USDT交易对\" clearable v-show=\"display('symbol')\" :rules=\"[{ required: display('symbol'), message: '必填项' }]\" :readonly=\"action == 'adjust'\" :formatter=\"formatter\" />\n        <van-field v-model=\"state.strategy.amount\" name=\"amount\" label=\"建仓金额\" placeholder=\"最少 10 USDT\" v-show=\"display('amount')\" :rules=\"[{ required: display('amount'), message: '必填项' }]\"  type=\"number\" min=\"10\" right-icon=\"warning-o\" />\n        <van-field name=\"rise_limit\" label=\"止盈率\" right-icon=\"warning-o\">\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.strategy.rise_limit\" step=\"0.1\" min=\"0.1\" max=\"100\" />%</template>\n        </van-field>\n        <van-field name=\"rise_offset\" label=\"止盈回调比例\" right-icon=\"warning-o\">\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.strategy.rise_offset\" step=\"0.1\" min=\"0\" max=\"100\"/>%</template>\n        </van-field>\n        <van-field name=\"fall_limit\" label=\"补仓下跌率\" right-icon=\"warning-o\" >\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.strategy.fall_limit\" step=\"0.1\" min=\"0.1\" max=\"100\"/>%</template>\n        </van-field>\n        <van-field name=\"fall_offset\" label=\"补仓回调比例\" right-icon=\"warning-o\" >\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.strategy.fall_offset\" step=\"0.1\" min=\"0\" max=\"100\" />%</template>\n        </van-field>\n        <van-field name=\"fall_count\" label=\"补仓次数\" right-icon=\"warning-o\">\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.strategy.fall_count\" step=\"1\" min=\"0\" max=\"10\" />次</template>\n        </van-field>\n        <van-field name=\"fall_series\" label=\"补仓金额\" right-icon=\"warning-o\">\n          <template #input>\n            <van-radio-group v-model=\"state.strategy.fall_series\">\n              <van-radio class=\"radio\" :name=\"0\">不补仓</van-radio>\n              <van-radio class=\"radio\" :name=\"1\">单倍建仓金额</van-radio>\n              <van-radio class=\"radio\" :name=\"2\">单倍递增：2、3、4、5...</van-radio>\n              <van-radio class=\"radio\" :name=\"3\">双倍递增：2、4、6、8...</van-radio>\n              <van-radio class=\"radio\" :name=\"4\">乘方递增：2、4、8、16...</van-radio>\n            </van-radio-group>\n          </template>\n        </van-field>\n        <van-field name=\"stop_limit\" label=\"下跌止损比例\" right-icon=\"warning-o\">\n          <template #input><van-stepper class=\"stepper\" v-model=\"state.strategy.stop_limit\" step=\"0.1\" min=\"0.1\" max=\"100\" />%</template>\n        </van-field>\n        <van-field name=\"stop_action\" label=\"止损动作\" right-icon=\"warning-o\">\n          <template #input>\n            <van-radio-group v-model=\"state.strategy.stop_action\">\n              <van-radio class=\"radio\" :name=\"0\">挂起不再补仓</van-radio>\n              <van-radio class=\"radio\" :name=\"1\">清仓</van-radio>\n            </van-radio-group>\n          </template>\n        </van-field>\n      \n      </div>\n\n      <van-sticky class=\"submit\" :offset-bottom=\"0\" position=\"bottom\">\n        <van-button block type=\"primary\" native-type=\"submit\">{{title}}</van-button>\n      </van-sticky>\n      \n    </van-form>\n\n  </BaseLayout>\n</template>\n\n<style scoped>\n.form {\n  margin: 10px;\n  border-radius: 5px;\n}\n.strategy {\n  background: #F6F6F6;\n  border-radius: 5px;\n  border: solid 1px #DDD;\n  color: #000;\n}\n.fields {\n  margin: 10px 0;\n  border-radius: 5px;\n  border: solid 1px #DDD;\n  overflow: hidden;\n}\n.stepper {\n  margin-right: 10px;\n}\n.radio {\n  height: 32px;\n  font-size: 12px;\n}\n.submit {\n  margin-top: 10px;\n}\n</style>\n\n<script>\nimport {reactive} from 'vue'\nimport {mapGetters} from 'vuex'\nimport BaseLayout from '@/components/BaseLayout.vue'\n\nexport default {\n  components: {BaseLayout},\n\n  props: {\n    action: {\n      type: String,\n      default: \"create\",\n    },\n    id: {\n      type: Number,\n      default: 0,\n    },\n  },\n\n  setup(){\n    const state = reactive({\n      showPicker: false,\n      symbols: [],\n      list: [],     // 所有策略\n      strategy: {}, // 当前策略\n      default: {    // 默认策略\n        rise_limit: 3,\n        rise_offset: 0.3,\n        fall_limit: 4,\n        fall_offset: 0.4,\n        fall_count: 5,\n        fall_series: 2,\n        stop_limit: 30,\n        stop_action: 0,\n      }, \n      sid: 0,       // 策略模板ID\n    });\n\n    return {\n      state,\n    };\n  },\n\n  created() {\n    this.state.strategy = this.state.default;\n    this.$http.get(\"/exchange/symbol\").then((data) => this.state.symbols = data);\n    this.$http.post(\"/exchange/strategylist\").then((data) => {\n      if (this.action == \"modify\" && data.length == 0){\n        this.$toast(\"还没有策略模板，请先增加\");\n        return this.$router.push(\"/my/strategy/create\");\n      }\n      this.state.list = data;\n    });\n  },\n\n  mounted(){\n    this.id > 0 && this.$http.post(\"/exchange/taskdetail?id=\" + this.id).then((data) => {\n      this.state.strategy = this.change(data[\"strategy\"], 100);\n    });\n  },\n\n  computed: {\n\n    title() {\n      let obj = {\n        create: \"新增策略模板\",\n        modify: \"修改策略模板\",\n        adjust: \"调整策略 #\" + this.id,\n        apply: \"手动建仓\",\n      }\n      return typeof obj[this.action] != \"undefined\" ? obj[this.action] : obj.create;\n    },\n\n    name(){\n      return this.action == \"modify\" ? \"请先点击选择要修改的策略模板\" : \"可点击选择策略模板，填充到下面表单中\";\n    },\n\n    ...mapGetters([\"uid\"]),\n  },\n\n  methods: {\n\n    display(type){\n      if (type == \"create\"){\n        return this.action == \"modify\" ? true : false;\n      }\n      if (type == \"choose\"){\n        return (this.action == \"modify\" || this.action == \"apply\") ? true : false;\n      }\n      if (type == \"name\"){\n        return (this.action == \"create\" || this.action == \"modify\") ? true : false;\n      }\n      if (type == \"symbol\"){\n        return (this.action == \"adjust\" || this.action == \"apply\") ? true : false;\n      }      \n      if (type == \"amount\"){\n        return (this.action != \"adjust\") ? true : false;\n      }\n      return false;\n    },\n\n    change(obj, multiple) {\n      return {...obj, ...{\n        rise_limit : obj.rise_limit * multiple,\n        rise_offset: obj.rise_offset * multiple,\n        fall_limit : obj.fall_limit * multiple,\n        fall_offset: obj.fall_offset * multiple,\n        fall_series: parseInt(obj.fall_series),\n        stop_limit : obj.stop_limit * multiple,\n        stop_action: parseInt(obj.stop_action)\n      }};\n    },\n\n    formatter(value){\n      let symbol = value.toUpperCase().replace(/[^\\w]/g, '');\n      if (this.state.symbols.join(\"|\").toUpperCase().indexOf(symbol) == -1)\n        return symbol.substring(0, symbol.length-1);\n      return symbol;\n    },\n\n    onCreate(){\n      this.state.strategy = this.state.default;\n      this.$router.push('/my/strategy/create');\n    },\n\n    onConfirm(obj) {\n      this.state.showPicker = false;\n      this.state.sid = obj.id;\n      this.state.strategy = this.change(obj, 100);\n      this.$copy(obj.id, false);\n    },\n\n    onSubmit(obj){\n      let type = \"create,modify\".indexOf(this.action) > -1 ? \"strategy\" : \"task\";\n      let url = \"/exchange/\" + type + \"save\";\n      let params = this.change(obj, 1/100);\n\n      if (this.action == \"modify\"){\n        if (this.state.sid == 0)\n          return this.$toast(\"请先选择要修改的策略模板\");\n        params[\"id\"] = this.state.sid;\n      }\n\n      if (this.action == \"adjust\"){\n        if (this.id == 0)\n          return this.$toast(\"缺少任务ID\");\n        params[\"id\"] = this.id;\n      }\n      \n      type == \"task\" && this.uid == 1 && (params[\"test\"] = 1);\n\n      this.$http.post(url, params).then((data) => {\n        this.$router.push(\"/my/exchange\");\n      });\n    }\n  }\n}\n</script>\n","import { render } from \"./MyExchangeStrategy.vue?vue&type=template&id=486e6d3a&scoped=true\"\nimport script from \"./MyExchangeStrategy.vue?vue&type=script&lang=js\"\nexport * from \"./MyExchangeStrategy.vue?vue&type=script&lang=js\"\n\nimport \"./MyExchangeStrategy.vue?vue&type=style&index=0&id=486e6d3a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-486e6d3a\"\n\nexport default script","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n"],"sourceRoot":""}